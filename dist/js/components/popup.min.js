/*! UIkit 3.15.14 | https://www.getuikit.com | (c) 2014 - 2022 YOOtheme | MIT License */(function(i,e){typeof exports=="object"&&typeof module<"u"?module.exports=e(require("js-cookie"),require("uikit-util")):typeof define=="function"&&define.amd?define("uikitpopup",["js-cookie","uikit-util"],e):(i=typeof globalThis<"u"?globalThis:i||self,i.UIkitPopup=e(i.Cookies,i.UIkit.util))})(this,function(i,e){"use strict";var j={connected(){e.addClass(this.$el,this.$options.id)}},_={props:{container:Boolean},data:{container:!0},computed:{container(s){let{container:n}=s;return n===!0&&this.$container||n&&e.$(n)}}},D={props:{cls:Boolean,animation:"list",duration:Number,velocity:Number,origin:String,transition:String},data:{cls:!1,animation:[!1],duration:200,velocity:.2,origin:!1,transition:"ease",clsEnter:"uk-togglabe-enter",clsLeave:"uk-togglabe-leave"},computed:{hasAnimation(s){let{animation:n}=s;return!!n[0]},hasTransition(s){let{animation:n}=s;return["slide","reveal"].some(t=>e.startsWith(n[0],t))}},methods:{toggleElement(s,n,t){return new Promise(o=>Promise.all(e.toNodes(s).map(r=>{const a=e.isBoolean(n)?n:!this.isToggled(r);if(!e.trigger(r,"before"+(a?"show":"hide"),[this]))return Promise.reject();const l=(e.isFunction(t)?t:t===!1||!this.hasAnimation?F:this.hasTransition?Y:N)(r,a,this),c=a?this.clsEnter:this.clsLeave;e.addClass(r,c),e.trigger(r,a?"show":"hide",[this]);const d=()=>{e.removeClass(r,c),e.trigger(r,a?"shown":"hidden",[this])};return l?l.then(d,()=>(e.removeClass(r,c),Promise.reject())):d()})).then(o,e.noop))},isToggled(s){return s===void 0&&(s=this.$el),[s]=e.toNodes(s),e.hasClass(s,this.clsEnter)?!0:e.hasClass(s,this.clsLeave)?!1:this.cls?e.hasClass(s,this.cls.split(" ")[0]):e.isVisible(s)},_toggle(s,n){if(!s)return;n=Boolean(n);let t;this.cls?(t=e.includes(this.cls," ")||n!==e.hasClass(s,this.cls),t&&e.toggleClass(s,this.cls,e.includes(this.cls," ")?void 0:n)):(t=n===s.hidden,t&&(s.hidden=!n)),e.$$("[autofocus]",s).some(o=>e.isVisible(o)?o.focus()||!0:o.blur()),t&&e.trigger(s,"toggled",[n,this])}}};function F(s,n,t){let{_toggle:o}=t;return e.Animation.cancel(s),e.Transition.cancel(s),o(s,n)}async function Y(s,n,t){var o;let{animation:r,duration:a,velocity:l,transition:c,_toggle:d}=t;const[M="reveal",C="top"]=((o=r[0])==null?void 0:o.split("-"))||[],b=[["left","right"],["top","bottom"]],y=b[e.includes(b[0],C)?0:1],E=y[1]===C,u=["width","height"][b.indexOf(y)],m="margin-"+y[0],v="margin-"+C;let g=e.dimensions(s)[u];const V=e.Transition.inProgress(s);await e.Transition.cancel(s),n&&d(s,!0);const X=Object.fromEntries(["padding","border","width","height","minWidth","minHeight","overflowY","overflowX",m,v].map(I=>[I,s.style[I]])),p=e.dimensions(s),P=e.toFloat(e.css(s,m)),S=e.toFloat(e.css(s,v)),f=p[u]+S;!V&&!n&&(g+=S);const[w]=e.wrapInner(s,"<div>");e.css(w,{boxSizing:"border-box",height:p.height,width:p.width,...e.css(s,["overflow","padding","borderTop","borderRight","borderBottom","borderLeft","borderImage",v])}),e.css(s,{padding:0,border:0,minWidth:0,minHeight:0,[v]:0,width:p.width,height:p.height,overflow:"hidden",[u]:g});const B=g/f;a=(l*f+a)*(n?1-B:B);const A={[u]:n?f:0};E&&(e.css(s,m,f-g+P),A[m]=n?P:f+P),!E^M==="reveal"&&(e.css(w,m,-f+g),e.Transition.start(w,{[m]:n?0:-f},a,c));try{await e.Transition.start(s,A,a,c)}finally{e.css(s,X),e.unwrap(w.firstChild),n||d(s,!1)}}function N(s,n,t){e.Animation.cancel(s);const{animation:o,duration:r,_toggle:a}=t;return n?(a(s,!0),e.Animation.in(s,o[0],r,t.origin)):e.Animation.out(s,o[1]||o[0],r,t.origin).then(()=>a(s,!1))}const h=[];var L={mixins:[j,_,D],props:{selPanel:String,selClose:String,escClose:Boolean,bgClose:Boolean,stack:Boolean},data:{cls:"uk-open",escClose:!0,bgClose:!0,overlay:!0,stack:!1},computed:{panel(s,n){let{selPanel:t}=s;return e.$(t,n)},transitionElement(){return this.panel},bgClose(s){let{bgClose:n}=s;return n&&this.panel}},beforeDisconnect(){e.includes(h,this)&&this.toggleElement(this.$el,!1,!1)},events:[{name:"click",delegate(){return this.selClose},handler(s){s.preventDefault(),this.hide()}},{name:"click",delegate(){return'a[href*="#"]'},handler(s){let{current:n,defaultPrevented:t}=s;const{hash:o}=n;!t&&o&&H(n)&&!e.within(o,this.$el)&&e.$(o,document.body)&&this.hide()}},{name:"toggle",self:!0,handler(s){s.defaultPrevented||(s.preventDefault(),this.isToggled()===e.includes(h,this)&&this.toggle())}},{name:"beforeshow",self:!0,handler(s){if(e.includes(h,this))return!1;!this.stack&&h.length?(Promise.all(h.map(n=>n.hide())).then(this.show),s.preventDefault()):h.push(this)}},{name:"show",self:!0,handler(){e.once(this.$el,"hide",e.on(document,"focusin",s=>{e.last(h)===this&&!e.within(s.target,this.$el)&&this.$el.focus()})),this.overlay&&(e.once(this.$el,"hidden",W(this.$el),{self:!0}),e.once(this.$el,"hidden",q(),{self:!0})),this.stack&&e.css(this.$el,"zIndex",e.toFloat(e.css(this.$el,"zIndex"))+h.length),e.addClass(document.documentElement,this.clsPage),this.bgClose&&e.once(this.$el,"hide",e.on(document,e.pointerDown,s=>{let{target:n}=s;e.last(h)!==this||this.overlay&&!e.within(n,this.$el)||e.within(n,this.panel)||e.once(document,e.pointerUp+" "+e.pointerCancel+" scroll",t=>{let{defaultPrevented:o,type:r,target:a}=t;!o&&r===e.pointerUp&&n===a&&this.hide()},!0)}),{self:!0}),this.escClose&&e.once(this.$el,"hide",e.on(document,"keydown",s=>{s.keyCode===27&&e.last(h)===this&&this.hide()}),{self:!0})}},{name:"shown",self:!0,handler(){e.isFocusable(this.$el)||e.attr(this.$el,"tabindex","-1"),e.$(":focus",this.$el)||this.$el.focus()}},{name:"hidden",self:!0,handler(){e.includes(h,this)&&h.splice(h.indexOf(this),1),e.css(this.$el,"zIndex",""),h.some(s=>s.clsPage===this.clsPage)||e.removeClass(document.documentElement,this.clsPage)}}],methods:{toggle(){return this.isToggled()?this.hide():this.show()},show(){return this.container&&e.parent(this.$el)!==this.container?(e.append(this.container,this.$el),new Promise(s=>requestAnimationFrame(()=>this.show().then(s)))):this.toggleElement(this.$el,!0,T)},hide(){return this.toggleElement(this.$el,!1,T)}}};function T(s,n,t){let{transitionElement:o,_toggle:r}=t;return new Promise((a,l)=>e.once(s,"show hide",()=>{s._reject==null||s._reject(),s._reject=l,r(s,n);const c=e.once(o,"transitionstart",()=>{e.once(o,"transitionend transitioncancel",a,{self:!0}),clearTimeout(d)},{self:!0}),d=setTimeout(()=>{c(),a()},R(e.css(o,"transitionDuration")))})).then(()=>delete s._reject)}function R(s){return s?e.endsWith(s,"ms")?e.toFloat(s):e.toFloat(s)*1e3:0}function W(s){if(CSS.supports("overscroll-behavior","contain")){const o=z(s,r=>/auto|scroll/.test(e.css(r,"overflow")));return e.css(o,"overscrollBehavior","contain"),()=>e.css(o,"overscrollBehavior","")}let n;const t=[e.on(s,"touchstart",o=>{let{targetTouches:r}=o;r.length===1&&(n=r[0].clientY)},{passive:!0}),e.on(s,"touchmove",o=>{if(o.targetTouches.length!==1)return;let[r]=e.scrollParents(o.target,/auto|scroll/);e.within(r,s)||(r=s);const a=o.targetTouches[0].clientY-n,{scrollTop:l,scrollHeight:c,clientHeight:d}=r;(d>=c||l===0&&a>0||c-l<=d&&a<0)&&o.cancelable&&o.preventDefault()},{passive:!1})];return()=>t.forEach(o=>o())}let $;function q(){if($)return e.noop;$=!0;const{scrollingElement:s}=document;return e.css(s,{overflowY:"hidden",touchAction:"none",paddingRight:e.width(window)-s.clientWidth}),()=>{$=!1,e.css(s,{overflowY:"",touchAction:"",paddingRight:""})}}function z(s,n){const t=[];return e.apply(s,o=>{n(o)&&t.push(o)}),t}function H(s){return["origin","pathname","search"].every(n=>s[n]===location[n])}var x={mixins:[L],args:"type",props:{type:String,delay:Number,expires:Number,cookie:Boolean},data:{clsPage:"uk-modal-page",selPanel:".uk-modal-dialog",selClose:".uk-modal-close, .uk-modal-close-default, .uk-modal-close-outside, .uk-modal-close-full",type:"exit",delay:0,expires:7,cookie:!0},computed:{cookie:{get(){return i.get(this.$el.id)||!0},set(s){i.set(this.$el.id,s,{expires:this.expires})}},param(){return O("popup")==this.$el.id}},events:[{name:"show",self:!0,handler(){e.hasClass(this.panel,"uk-margin-auto-vertical")?e.addClass(this.$el,"uk-flex"):e.css(this.$el,"display","block"),e.height(this.$el)}},{name:"hidden",self:!0,handler(){e.css(this.$el,"display",""),e.removeClass(this.$el,"uk-flex"),this.expires!==0&&(this.cookie=!1)}},{name:"mouseout",el:document,filter(){return this.type==="exit"&&(this.expires===0||this.cookie==!0)},handler(s){if(this.cookie==!0&&s.clientY<50&&s.relatedTarget==null&&s.target.nodeName.toLowerCase()!=="select"){let n=this.show;setTimeout(n,this.delay)}}}],connected(){if(!e.hasClass(this.$el,"uk-modal")&&e.addClass(this.$el,"uk-modal"),this.type==="entry"&&(this.expires===0||this.cookie==!0)){let s=this.show;setTimeout(s,this.delay)}if(this.type==="query-string"&&this.param&&(this.expires===0||this.cookie==!0)){let s=this.show;setTimeout(s,this.delay)}}};function O(s){const n=new RegExp("[?&]"+s+"=([^&]*)").exec(window.location.search);return n&&decodeURIComponent(n[1].replace(/\+/g," "))}return typeof window<"u"&&window.UIkit&&window.UIkit.component("popup",x),x});
